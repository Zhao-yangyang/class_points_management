# 班级积分管理系统PRD

## 1. 产品概述

### 1.1 产品简介
班级积分管理系统是一款离线网页应用，旨在帮助教师高效管理班级学生积分，促进良好班风班貌建设，提高学生学习积极性。

### 1.2 产品目标
- 提供简单易用的学生积分管理工具
- 支持多种积分评定标准
- 提供直观的数据统计和展示
- 实现完全离线运行，无需网络连接

### 1.3 目标用户
- 中小学教师
- 班主任
- 学校管理人员

## 2. 功能需求

### 2.1 学生管理

#### 2.1.1 学生信息管理
- 添加学生：录入姓名、学号、性别等基本信息
- 编辑学生：修改已有学生信息
- 删除学生：移除不再需要的学生记录
- 批量导入：支持通过CSV文件批量导入学生信息

#### 2.1.2 分组管理
- 创建小组：将学生分配到不同小组
- 编辑小组：调整小组成员
- 删除小组：移除不需要的小组

### 2.2 积分管理

#### 2.2.1 积分规则设置
- 创建积分项：设置积分名称、分值、描述
- 编辑积分项：修改已有积分项
- 删除积分项：移除不需要的积分项

#### 2.2.2 积分操作
- 单人加分：为指定学生增加积分
- 单人减分：从指定学生扣除积分
- 小组加分：为整个小组增加积分
- 批量操作：一次性为多名学生增加或扣除积分

#### 2.2.3 积分记录
- 记录所有积分变动
- 包含时间、积分项、变动值、操作原因等信息

### 2.3 统计分析

#### 2.3.1 个人积分统计
- 显示每位学生的总积分
- 显示积分构成明细
- 显示最近积分变动历史

#### 2.3.2 班级排行榜
- 按总积分排序显示学生排名
- 显示各小组总积分排名
- 支持按不同积分项查看排名

#### 2.3.3 趋势分析
- 显示班级总积分变化趋势图
- 显示个人积分变化趋势图

### 2.4 奖励系统

#### 2.4.1 奖品管理
- 添加奖品：设置名称、所需积分、库存
- 编辑奖品：修改已有奖品信息
- 删除奖品：移除不需要的奖品

#### 2.4.2 积分兑换
- 学生使用积分兑换奖品
- 记录兑换历史
- 扣除相应积分

### 2.5 数据管理

#### 2.5.1 数据导出
- 导出学生积分数据为CSV格式
- 导出积分变动记录为CSV格式

#### 2.5.2 数据备份与恢复
- 导出系统所有数据为JSON备份文件
- 从备份文件恢复系统数据

### 2.6 离线存储

#### 2.6.1 本地存储
- 使用localStorage存储所有应用数据
- 自动保存所有操作
- 支持手动触发保存
- 实现合理的数据分割策略应对存储限制

## 3. 非功能需求

### 3.1 用户界面

#### 3.1.1 界面设计
- 符合现代年轻女性审美的UI设计
- 采用柔和色调，圆润边角和适当留白
- 使用优雅的字体和精致的图标
- 简洁直观的操作界面
- 响应式设计，适配不同屏幕尺寸
- 高对比度模式，适合投影展示

#### 3.1.2 操作流程
- 简化常用操作步骤
- 批量操作支持

### 3.2 性能要求
- 支持管理不少于300名学生（考虑localStorage存储限制）
- 页面加载和操作响应时间不超过1秒
- 数据导入导出操作不超过5秒

### 3.3 兼容性
- 支持主流浏览器：Chrome, Firefox, Edge
- 支持Windows 7+, macOS 10.12+系统

### 3.4 安全性
- 本地数据安全存储
- 敏感操作需确认
- 定期提醒数据备份

## 4. 用户界面设计

### 4.1 设计风格
- **整体风格**：参考macOS设计语言，强调简洁、优雅和易用性
- **色彩方案**：主色调采用柔和的粉色、薄荷绿、淡蓝色等年轻女性喜爱的色调
- **排版**：采用现代无衬线字体，合理利用留白，强调内容层次
- **视觉元素**：使用细腻的阴影、微妙的渐变和适度的动画效果

### 4.2 TailwindCSS设计规范
- 使用TailwindCSS框架实现界面样式（直接引入CDN或本地文件）
- 基础色彩定义：
  ```
  colors: {
    primary: '#FF85A2',     // 温柔粉色为主色调
    secondary: '#7EB2DD',   // 淡蓝色为辅助色
    accent: '#B8E0D2',      // 薄荷绿为强调色
    neutral: '#F8F9FA',     // 浅灰色作为背景
    'neutral-dark': '#DEE2E6' // 深一点的灰色作为分隔
  }
  ```
- 圆角使用：所有卡片和按钮使用`rounded-lg`或`rounded-xl`
- 阴影效果：卡片和弹窗使用`shadow-md`，hover状态使用`shadow-lg`
- 间距规范：内边距统一使用`p-4`和`p-6`，外边距使用`m-4`和`gap-4`

### 4.3 布局结构
- 顶部导航栏：包含系统名称、主要功能区域切换
- 左侧边栏：显示班级、小组、学生列表
- 主内容区：显示当前功能的详细内容
- 底部状态栏：显示系统状态、数据保存信息

### 4.4 主要界面

#### 4.4.1 学生管理界面
- 学生列表：卡片式布局，每个学生一张卡片
- 学生详情：浮动侧边栏，滑入滑出动画
- 操作按钮：圆形或胶囊形，带有微妙的悬浮效果

#### 4.4.2 积分管理界面
- 积分操作面板：浮动卡片，带有轻微阴影
- 批量操作工具：多选卡片，选中状态有明显视觉反馈
- 积分历史记录：时间轴样式，按时间倒序排列

#### 4.4.3 统计分析界面
- 积分排行榜：柱状图或环形进度条展示排名
- 趋势图表：使用柔和色彩的折线图（Chart.js）
- 筛选工具：下拉菜单和日期选择器，macOS风格

#### 4.4.4 奖励兑换界面
- 奖品列表：图文并茂的卡片网格布局
- 兑换操作面板：模态对话框，带有精致动画
- 兑换历史：卡片式时间轴

### 4.5 响应式设计
- 桌面端：多列布局，充分利用屏幕空间
- 平板端：减少列数，增大交互元素尺寸
- 移动端：单列布局，隐藏侧边栏，通过抽屉菜单访问

## 5. 技术实现

### 5.1 开发技术
- 前端基础：纯HTML5
- UI框架：TailwindCSS（通过CDN引入或本地文件）
- 图表库：Chart.js（离线版）
- 本地存储：localStorage

### 5.2 数据结构
- 学生信息表
- 积分规则表
- 积分记录表
- 小组信息表
- 奖品信息表
- 兑换记录表

### 5.3 离线实现
- 完全离线运行，无需网络连接
- 数据变更自动保存到localStorage
- 定期提示用户备份数据
- 针对localStorage存储限制的优化策略

## 6. 开发计划

### 6.1 优先级排序
1. 学生管理
2. 积分管理
3. 统计分析
4. 数据导出
5. 奖励系统

### 6.2 版本规划
- V1.0：基础版，包含学生管理、积分管理、简单统计
- V1.5：增强版，添加高级统计分析、数据导出功能
- V2.0：完整版，增加奖励系统、批量操作等高级功能

## 7. 产品风险

### 7.1 技术风险
- localStorage存储限制（通常5-10MB）可能影响大量数据的保存
- 不同浏览器兼容性问题

### 7.2 用户风险
- 用户忘记备份导致数据丢失
- 操作错误导致数据误删
- 浏览器缓存清理导致数据丢失

### 7.3 风险应对
- 实现数据分割存储策略
- 添加自动备份提醒功能
- 提供操作确认和撤销功能
- 定期自动保存数据

## 8. 附录

### 8.1 术语表
- 积分项：可获得积分的具体行为或成就
- 积分规则：定义不同行为对应的积分值
- 奖励兑换：使用积分换取实物或虚拟奖励

### 8.2 用户故事
- 作为班主任，我希望能快速为多名学生加分，以便节省操作时间
- 作为教师，我希望查看班级积分排行榜，以激励学生竞争
- 作为管理员，我希望导出积分数据，以便进行进一步分析

### 8.3 界面设计示例

#### 组件样式示例（TailwindCSS）
```html
<!-- 学生卡片示例 -->
<div class="bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition-shadow duration-300">
  <div class="flex justify-between items-center">
    <h3 class="text-lg font-medium text-gray-800">张小明</h3>
    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">64分</span>
  </div>
  <p class="text-gray-500 text-sm mt-1">学号：2023001</p>
  <div class="mt-4 flex justify-between items-center">
    <span class="text-xs text-gray-400">第一组</span>
    <div class="flex space-x-2">
      <button class="w-8 h-8 bg-secondary bg-opacity-10 rounded-full flex items-center justify-center text-secondary hover:bg-opacity-20 transition-colors">
        <svg><!-- 编辑图标 --></svg>
      </button>
      <button class="w-8 h-8 bg-primary bg-opacity-10 rounded-full flex items-center justify-center text-primary hover:bg-opacity-20 transition-colors">
        <svg><!-- 加分图标 --></svg>
      </button>
    </div>
  </div>
</div>

<!-- 主按钮示例 -->
<button class="bg-primary hover:bg-primary-dark text-white rounded-full px-6 py-2 flex items-center space-x-2 shadow-md hover:shadow-lg transition-all duration-300">
  <svg><!-- 图标 --></svg>
  <span>添加学生</span>
</button>

<!-- 统计卡片示例 -->
<div class="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow duration-300">
  <h3 class="text-lg font-medium text-gray-800 mb-4">班级积分趋势</h3>
  <div class="h-64">
    <!-- 图表容器 -->
  </div>
  <div class="mt-4 flex justify-end">
    <button class="text-secondary text-sm hover:underline">查看详情</button>
  </div>
</div>
```

### 8.4 localStorage数据结构

```
app_students    - 学生数据数组
app_groups      - 小组数据数组
app_pointRules  - 积分规则数组
app_pointLogs   - 积分记录数组
app_rewards     - 奖品数据数组
app_exchanges   - 兑换记录数组
app_settings    - 应用设置
app_lastBackup  - 最后备份时间